# @package _global_
# to execute this experiment run:
# python train.py experiment=persent-bert
defaults:
  - override /model: bert_truncation.yaml
  - override /data: persent.yaml
# all parameters below will be merged with parameters from default configurations set above
# this allows you to overwrite only specified parameters

train:
  num_epoch: 5
  batch_size: 16
  num_workers: 8
  prefetch_factor: 4

  # optimizer related
  lr: 3.0e-05
  scheduler_factor: 0.8
  scheduler_patience: 2

  patience: 10 # for early stop
  clip_grad: 0.5

dev:
  batch_size: 16
  num_workers: 8
  prefetch_factor: 4

test:
  batch_size: 1
  num_workers: 0
  prefetch_factor: 2
  threshold: 0.5
  monitor: val/loss

data:
  max_num_seq: 512